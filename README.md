# 改善效果展示系统

一款基于 Electron + React 的工艺改善效果展示桌面应用。

## 快速开始

### 安装依赖
```bash
npm install
```

### 开发模式运行
```bash
npm run dev
```

这会同时启动：
- Vite 开发服务器（React 应用）
- Electron 应用窗口

### 生产模式运行
```bash
npm run build
npm start
```

## 核心功能

### 1. 项目管理
- 创建、查看、删除改善项目
- 支持多项目管理

### 2. 改善阶段管理
- 每个项目支持多个改善阶段（阶段1、阶段2...）
- 为每个阶段上传改善前后的视频文件
- 独立的视频和工序配置

### 3. 工序分段管理
- 为视频创建时间分段工序
- 记录工序名称、描述、改善说明
- 自动计算时间节省

### 4. 视频播放模式

#### 单工序播放
- 播放选中工序的改善前或改善后视频
- 可切换查看模式
- 显示详细工序信息

#### 对比播放
- 同时播放改善前后视频
- 支持左右和上下两种布局
- 显示时间节省统计

#### 全局播放
- 按顺序播放所有工序
- 显示工序进度
- 自动切换下一个工序

## 使用流程

1. **创建项目**
   - 点击"新建项目"
   - 填写项目名称和描述

2. **创建阶段**
   - 在项目中创建改善阶段
   - 上传改善前视频
   - 上传改善后视频

3. **添加工序**
   - 创建工序并设置时间段
   - 例如：工序A（改善前: 0-10秒，改善后: 0-5秒）
   - 系统自动计算节省时间（5秒）

4. **播放和展示**
   - 选择工序单独播放
   - 使用对比播放查看改善效果
   - 使用全局播放展示完整流程

## 技术栈

- **前端**: React 18.2
- **桌面**: Electron 28
- **构建**: Vite 5
- **数据库**: SQLite (better-sqlite3)

## 项目结构

```
改善对比/
├── electron/           # Electron 主进程
│   ├── main.js        # 主进程入口
│   ├── database.js    # 数据库管理
│   └── preload.js     # 预加载脚本
├── src/               # React 应用
│   ├── components/    # 组件
│   ├── styles/        # 样式
│   ├── App.jsx        # 主应用
│   └── index.jsx      # 入口
└── public/            # 公共资源
```

## 数据存储

数据库文件位于：
- macOS: `~/Library/Application Support/改善效果展示系统/improvement.db`
- Windows: `%APPDATA%/改善效果展示系统/improvement.db`
- Linux: `~/.config/改善效果展示系统/improvement.db`

## 支持的视频格式

MP4, AVI, MOV, MKV, WEBM

## 许可证

MIT
